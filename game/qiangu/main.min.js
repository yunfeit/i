var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Main=function(t){function e(){var e=this,i={appId:"huaqiangu",heart:!0,showLogo:!1};return e=t.call(this,i)||this}return __extends(e,t),e.prototype.createGameScene=function(){SpriteControl.playInit(),e.ui=new UI,this.gameLayer.addChild(e.ui)},e}(windspirit.App);Main.ui=null,__reflect(Main.prototype,"Main");var Card=function(t){function e(e){void 0===e&&(e=0);var i=t.call(this)||this;return i.listId=0,i.id=0,i.Visible=!0,i.ani=!1,i.id=e,i.cardMask=utils.createBitmapByName("Card_BG"),i.card=utils.createBitmapByName("Card_"+i.id.toString()),e=144/i.card.width,i.card.width*=e,i.card.height*=e,i.cardMask.width*=e,i.cardMask.height*=e,windspirit.Util.setCenterAnchor(i.cardMask),windspirit.Util.setCenterAnchor(i.card),i.addChild(i.card),i.card.x=i.card.width/2,i.card.y=i.card.height/2,i.addChild(i.cardMask),i.cardMask.x=i.cardMask.width/2,i.cardMask.y=i.cardMask.height/2,i}return __extends(e,t),e.prototype.startanimation=function(t,e){this.ani=!0,this.card.visible=!1,this.card.scaleX=this.card.scaleY=e,this.cardMask.scaleX=this.cardMask.scaleY=.1;var i=this;egret.Tween.get(this.cardMask).to({scaleX:e,scaleY:e},200).call(function(){i.card.visible=!0,i.ani=!1,egret.Tween.removeTweens(i.cardMask),t()})},e.prototype.SetMask=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=1),egret.Tween.removeTweens(this.cardMask);var i=this;t?egret.Tween.get(this.cardMask).to({scaleX:e,alpha:1},200).call(function(){egret.Tween.removeTweens(i.cardMask)}):egret.Tween.get(this.cardMask).to({scaleX:.1,alpha:0},200).call(function(){egret.Tween.removeTweens(i.cardMask)})},e.prototype.changeCard=function(t){this.removeChild(this.card),this.cardMask.visible=!0,this.removeChild(this.cardMask),this.card=utils.createBitmapByName("Card_"+this.id.toString()),this.addChild(this.card),this.addChild(this.cardMask),this.card.scaleX=this.card.scaleY=t,this.cardMask.scaleX=this.cardMask.scaleY=t,t=144/this.card.width,this.card.width*=t,this.card.height*=t,this.cardMask.width*=t,this.cardMask.height*=t,windspirit.Util.setCenterAnchor(this.cardMask),windspirit.Util.setCenterAnchor(this.card),this.card.x=this.card.width/2,this.card.y=this.card.height/2,this.cardMask.x=this.cardMask.width/2,this.cardMask.y=this.cardMask.height/2},e}(egret.Sprite);__reflect(Card.prototype,"Card");var Game=function(t){function e(){var e=t.call(this)||this;return e.levelUP=new LevelUP,e.GameTime=new egret.Timer(1e3),e.TimeNum=12,e.cardArray=[],e.max=6,e.scale=[1.5,1,1],e.getnum=0,e.level=0,e.cardPointArray=[[new egret.Point(34,150),new egret.Point(243,150),new egret.Point(452,150),new egret.Point(34,570),new egret.Point(243,570),new egret.Point(452,570)],[new egret.Point(11,150),new egret.Point(165,150),new egret.Point(318,150),new egret.Point(472,150),new egret.Point(11,570),new egret.Point(165,570),new egret.Point(318,570),new egret.Point(472,570)],[new egret.Point(11,110),new egret.Point(165,110),new egret.Point(318,110),new egret.Point(472,110),new egret.Point(11,368),new egret.Point(165,368),new egret.Point(318,368),new egret.Point(472,368),new egret.Point(11,646),new egret.Point(165,646),new egret.Point(318,646),new egret.Point(472,646)]],e.Select_current=e.Select_last=null,e.RunTime=new egret.Timer(500),e.pattern=new egret.Bitmap,e.pattern.texture=RES.getRes("pattern"),e.addChild(e.pattern),e.playView=new View_Play,e.addChild(e.playView),e}return __extends(e,t),e.prototype.onShareTap=function(t){},e.prototype.onRstartTap=function(t){this.init()},e.prototype.init=function(){var t=this;this.playView.init(),this.Select_last=this.Select_current=null,this.getnum=this.level=0,this.max=6,this.playView.x=windspirit.Util.stageW,this.pattern.y=-this.pattern.height,egret.Tween.get(this.pattern).to({y:0},400).call(function(){egret.Tween.get(t.playView).to({x:0},400).call(function(){t.GameTime.addEventListener(egret.TimerEvent.TIMER,t.onGameTimer,t),t.RunTime.addEventListener(egret.TimerEvent.TIMER,t.onRunTimer,t),t.TimeNum=12,windspirit.GameData.score=0,t.GameTime.delay=1e3,t.RunTime.delay=500,t.start(),egret.Tween.removeTweens(t.playView),egret.Tween.removeTweens(t.pattern)})})},e.prototype.start=function(){var t=this;this.createCard(),egret.setTimeout(function(){t.GameTime.start()},this,220)},e.prototype.createCard=function(){this.Select_last=this.Select_current=null;for(var t=[],e=[],i=0;i<this.max/2;i++)e.push(i);for(var r=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],i=0;i<this.max;i++)if(i<this.max/2){var n=Math.floor(Math.random()*r.length);t.push(r[n]),r.splice(n,1)}else{var n=Math.floor(Math.random()*e.length);t.push(t[e[n]]),e.splice(n,1)}this.cardArray=[];for(var i=0;i<this.max;i++){var a=new Card(t[i]);a.listId=i,a.x=this.cardPointArray[this.level][i].x,a.y=this.cardPointArray[this.level][i].y,a.touchEnabled=!0,a.cardMask.scaleX=this.scale[this.level],a.cardMask.alpha=1,a.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cardTap,this),this.addChild(a),a.startanimation(function(){},this.scale[this.level]),this.cardArray.push(a)}this.addChild(this.levelUP),this.cardLength=this.max},e.prototype.cardTap=function(t){t.target.cardMask.scaleX==this.scale[this.level]&&t.target.cardMask.scaleY==this.scale[this.level]&&1==t.target.cardMask.alpha&&t.target.cardMask.visible&&!t.target.ani&&0!=this.cardLength&&(null==this.Select_last?(this.Select_last=this.cardArray[t.target.listId],this.Select_last.SetMask(!1,this.scale[this.level])):null!=this.Select_last&&null==this.Select_current&&t.target!=this.Select_last?(this.Select_current=this.cardArray[t.target.listId],this.Select_current.SetMask(!1,this.scale[this.level]),this.RunTime.start()):null!=this.Select_current&&null!=this.Select_last&&(this.RunTime.stop(),this.timeOut()))},e.prototype.onRunTimer=function(t){this.timeOut()},e.prototype.timeOut=function(){this.Select_current.id==this.Select_last.id?(this.Select_current.ani=!1,this.Select_last.ani=!1,this.removeChild(this.Select_current),this.removeChild(this.Select_last),this.Select_current.Visible=!1,this.Select_last.Visible=!1,this.Select_last=this.Select_current=null,windspirit.GameData.score+=50,this.playView.setScore(),this.TimeNum=this.playView.timeAdd(4),this.cardLength-=2):(this.Select_current.SetMask(!0,this.scale[this.level]),this.Select_last.SetMask(!0,this.scale[this.level]),this.Select_last=this.Select_current=null),0==this.cardLength&&(this.getnum+=1,this.Select_last=this.Select_current=null,0<this.getnum&&0==this.getnum%2&&2>this.level&&(this.level+=1,1==this.level&&(this.max=8),2==this.level&&(this.max=12)),this.createCard(),this.levelUP.play(),this.GameTime.delay-=10),this.RunTime.stop()},e.prototype.onGameTimer=function(t){this.TimeNum-=1,0>this.TimeNum?this.over():this.playView.setTime(this.TimeNum)},e.prototype.stop=function(){},e.prototype.next=function(){},e.prototype.over=function(){this.GameTime.removeEventListener(egret.TimerEvent.TIMER,this.onGameTimer,this),this.RunTime.removeEventListener(egret.TimerEvent.TIMER,this.onRunTimer,this),this.GameTime.stop(),this.RunTime.stop(),this.removeChild(this.levelUP);for(var t=0;t<this.cardArray.length;t++)this.cardArray[t].visible=!1;this.dispatchEvent(new egret.Event("over",!1,!1))},e}(egret.DisplayObjectContainer);__reflect(Game.prototype,"Game");var layout=function(){function t(){}return t.percent_Y=function(t){return t/640*960},t.percent_X=function(t){return t},t.middle_X=function(t){return(windspirit.Util.stageW-t.width*t.scaleX)/2},t.middle_Y=function(t){return(windspirit.Util.stageH-t.height*t.scaleY)/2},t.left=function(t){return windspirit.Util.stageW-t.width*t.scaleX},t.bottom=function(t){return windspirit.Util.stageH-t.height*t.scaleY},t.Scale=function(){var t=0,t=windspirit.Util.stageH/960;return 1>=t?t:1},t.setScale=function(t,e,i){void 0===e&&(e=this.Scale()),void 0===i&&(i=this.Scale()),t.scaleX=e,t.scaleY=i},t}();__reflect(layout.prototype,"layout");var LevelUP=function(t){function e(){var e=t.call(this)||this;return e.time=new egret.Timer(500),SpriteControl.level_up.anchorX=.5,SpriteControl.level_up.anchorY=.5,e.addChild(SpriteControl.level_up),SpriteControl.level_up.x=windspirit.Util.centerX,SpriteControl.level_up.y=windspirit.Util.centerY,SpriteControl.level_up.alpha=0,e.time.addEventListener(egret.TimerEvent.TIMER,e.onTimer,e),e}return __extends(e,t),e.prototype.onTimer=function(t){SpriteControl.level_up.alpha=0,this.time.stop()},e.prototype.play=function(){SpriteControl.level_up.scaleX=SpriteControl.level_up.scaleY=.5,egret.Tween.get(SpriteControl.level_up).to({scaleX:1,scaleY:1,alpha:1},150),this.time.start()},e}(egret.Sprite);__reflect(LevelUP.prototype,"LevelUP");var Lrc=function(t){function e(){var e=t.call(this)||this;e.lrcArray=[],e.curIndex=0,e.isChange=!1,e.width=640,e.height=50,e.lrcLayer=new egret.DisplayObjectContainer,e.addChild(e.lrcLayer),e.fxLayer=new egret.DisplayObjectContainer,e.addChild(e.fxLayer);var i="bg_mp3";windspirit.SoundManager.playMuteSound(i),e.curMusic=RES.getRes(i),e.startPlay(),e.addEventListener(egret.Event.ENTER_FRAME,e.update,e);var r=RES.getRes("lrc");return e.parseLrc(r),e}return __extends(e,t),e.prototype.startPlay=function(){this.curIndex=0,this.curSoundChannel=this.curMusic.play(0,1),this.curSoundChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.startPlay,this)},e.prototype.update=function(t){var e=1e3*this.curSoundChannel.position,i=this.lrcArray[this.curIndex];if(this.curIndex<this.lrcArray.length-1){var r=this.lrcArray[this.curIndex+1];e>=i.time&&e<r.time?this.isChange=!1:(this.isChange=!0,this.curIndex++,this.addLrcRow())}},e.prototype.parseLrc=function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)for(var r=e[i].split("]"),n=0;n<r.length-1;n++){var a=r[n].match(/(\d+)\:(\d+)((\.|\:)(\d+))?/);if(a&&!/^\s*$/.test(r[r.length-1])){var o=1e3*(60*(+a[1]||0)+(+a[2]||0))+10*(+a[4]||0),s=r[r.length-1];this.lrcArray.push({time:o,lrcstr:s})}}},e.prototype.addLrcRow=function(){this.lrcLayer.removeChildren(),this.fxLayer.removeChildren();for(var t=this.lrcArray[this.curIndex].lrcstr,e=t.length,i=0;e>i;i++){var r=new LrcLabel(t[i]);r.x=30*i,this.lrcLayer.addChild(r)}windspirit.Util.setCenterAnchor(this.lrcLayer),this.actionEffect(this.lrcLayer)},e.prototype.actionEffect=function(t){var e=4*Math.random()>>0,i=1e3;switch(t.scaleX=t.scaleY=5,egret.Tween.get(t).to({scaleX:1,scaleY:1},i,egret.Ease.backOut),e){case 0:EffectUtils.leftSlidingIn(t,i);break;case 1:EffectUtils.rightSlidingIn(t,i);break;case 2:EffectUtils.topSlidingIn(t,i);break;case 3:EffectUtils.bottomSlidingIn(t,i)}egret.Tween.get(t).wait(i).call(this.actionContainer,this)},e.prototype.actionContainer=function(){},e}(egret.DisplayObjectContainer);__reflect(Lrc.prototype,"Lrc");var SIZE=30,SIZE_VAR=0,ROTATE_VAR=90,LrcLabel=function(t){function e(e){var i=t.call(this)||this;i.text=e,i.size=Math.random()*SIZE_VAR+SIZE,i.randColor(null);var r=(Math.random()*(2*ROTATE_VAR)-ROTATE_VAR,new egret.Timer(1e3));return r.addEventListener(egret.TimerEvent.TIMER,i.randColor,i),i}return __extends(e,t),e.prototype.randColor=function(t){var e=Math.floor(16777215*Math.random());this.textColor=e},e.prototype.printInfo=function(){console.log("x:"+this.x+"y:"+this.y+"text:"+this.text)},e}(egret.TextField);__reflect(LrcLabel.prototype,"LrcLabel");var Effect=function(t,e,i,r){return void 0===r&&(r=500),t.x=e.x,t.y=e.y,egret.Tween.get(t).to({x:i.x,y:i.y},r,egret.Ease.cubicOut)},EffectUtils=function(){function t(){}return t.rotation=function(t,e){egret.Tween.get(t).to({rotation:360},e).call(this.rotation,this,t)},t.blinkEffect=function(t,e){},t.pingpong=function(t,e,i,r){t.x=e.x,t.y=e.y,egret.Tween.get(t).to({x:i.x,y:i.y},r).call(function(){this.pingpong(t,i,e,r)},this)},t.shake=function(t,e,i,r,n,a,o){void 0===e&&(e=null),void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10),void 0===a&&(a=10),void 0===o&&(o=30);var s=this,l=t.x,c=t.y,h=n,d=a,u=function(){n>0&&(t.x=t.x!=l?l:(.5<Math.random()?1:-1)*i+l,n--,i*=n/h),a>0&&(t.y=t.y!=c?c:(.5<Math.random()?1:-1)*r+c,a--,r*=a/d)},p=function(){t.x=l,t.y=c,g.removeEventListener(egret.TimerEvent.TIMER,u,s),g.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,p,s),g.stop(),"function"==typeof e&&e()},g=new egret.Timer(1e3/o,n>a?i:r);g.addEventListener(egret.TimerEvent.TIMER,u,this),g.addEventListener(egret.TimerEvent.TIMER_COMPLETE,p,this),g.start()},t.gentlyPop=function(t,e){void 0===e&&(e=300);var i=t.width,r=t.height;return t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x+=i/4,t.y+=r/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-r/4},e,egret.Ease.backOut)},t.violentPop=function(t,e){void 0===e&&(e=600);var i=t.width,r=t.height;return t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x+=i/4,t.y+=r/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-r/4},e,egret.Ease.elasticOut)},t.leftSlidingIn=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(-t.width,t.y),new egret.Point(t.x,t.y),e)},t.rightSlidingIn=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(windspirit.Util.stageW,t.y),new egret.Point(t.x,t.y),e)},t.topSlidingIn=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,-t.height),new egret.Point(t.x,t.y),e)},t.bottomSlidingIn=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,windspirit.Util.stageH),new egret.Point(t.x,t.y),e)},t.leftSlidingOut=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,t.y),new egret.Point(-t.width,t.y),e)},t.rightSlidingOut=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,t.y),new egret.Point(windspirit.Util.stageW,t.y),e)},t.topSlidingOut=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,t.y),new egret.Point(t.x,-t.height),e)},t.bottomSlidingOut=function(t,e){return void 0===e&&(e=500),Effect(t,new egret.Point(t.x,t.y),new egret.Point(t.x,windspirit.Util.stageH),e)},t.narrowDisappear=function(t,e){return void 0===e&&(e=300),egret.Tween.get(t).to({alpha:0,scaleX:0,scaleY:0,x:t.x+t.width/2,y:t.y+t.height/2},e)},t.fadeIn=function(t,e){return void 0===e&&(e=300),t.alpha=0,egret.Tween.get(t).to({alpha:1},e)},t.fadeOut=function(t,e){return void 0===e&&(e=300),t.alpha=1,egret.Tween.get(t).to({alpha:0},e)},t.removeEffect=function(t){egret.Tween.removeTweens(t)},t.rotateLrc=function(t,e){void 0===e&&(e=1e3),t.rotation=0;var i=360;Math.random()>.5&&(i=-i),egret.Tween.get(t).to({scaleX:1,scaleY:1,rotation:i},e,egret.Ease.backOut)},t}();EffectUtils.sliding=Effect,__reflect(EffectUtils.prototype,"EffectUtils");var ScorePlan=function(t){function e(){var e=t.call(this)||this;return e.scoreTxt=new egret.BitmapText,e.addChild(SpriteControl.Score_Plan),e.scoreTxt.font=RES.getRes("gamefont"),e.scoreTxt.x=540,e.scoreTxt.y=10,e.scoreTxt.scaleX=e.scoreTxt.scaleY=.5,e.addChild(e.scoreTxt),e}return __extends(e,t),e}(egret.Sprite);__reflect(ScorePlan.prototype,"ScorePlan");var SpriteControl=function(){function t(){}return t.playInit=function(){this.ShareBtn=utils.createSpriteByName("ShareBtn"),this.ShareBtn.touchEnabled=!0,this.RstartBtn=utils.createSpriteByName("RstartBtn"),this.RstartBtn.touchEnabled=!0,this.StartBtn=utils.createSpriteByName("StartBtn"),this.StartBtn.touchEnabled=!0,this.rankBtn=utils.createBitmapByName("rankbtn"),this.rankBtn.touchEnabled=!0,this.overPlan=utils.createBitmapByName("overPlan"),this.level_up=utils.createBitmapByName("level_up"),this.Score_Plan=utils.createBitmapByName("Score_Plan"),this.startPlan=utils.createBitmapByName("startPlan"),this.TimeBar_1=utils.createBitmapByName("TimeBar_1"),this.TimeBar_2=utils.createBitmapByName("TimeBar_2"),this.TimeBar_3=utils.createBitmapByName("TimeBar_3")},t}();__reflect(SpriteControl.prototype,"SpriteControl");var TimePlan=function(t){function e(){var e=t.call(this)||this;return e.timeElement=[],e.CreateTimePlan(),e}return __extends(e,t),e.prototype.init=function(){for(var t=0;t<this.timeElement.length;t++)this.timeElement[t].alpha=1},e.prototype.CreateTimePlan=function(){for(var t=0;12>t;t++){var e;4>t?e=windspirit.Util.createBitmapByName("TimeBar_1"):t>3&&8>t?e=windspirit.Util.createBitmapByName("TimeBar_2"):t>7&&(e=windspirit.Util.createBitmapByName("TimeBar_3")),this.addChild(e),e.y=10,e.x=90+e.width*t,this.addChild(e),this.timeElement.push(e)}},e}(egret.Sprite);__reflect(TimePlan.prototype,"TimePlan");var UI=function(t){function e(){var e=t.call(this)||this;e.help=new egret.Bitmap;var i=new egret.Bitmap(RES.getRes("playbg"));e.addChild(i);var r=new Lrc;return r.x=windspirit.Util.centerX,r.y=910,e.addChild(r),e.overplan=new View_Over,e.game=new Game,e.help.texture=RES.getRes("help"),e.help.touchEnabled=!0,e.addChild(e.help),e.help.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.start,e),e}return __extends(e,t),e.prototype.start=function(){this.removeChild(this.help),this.help.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.start,this),SpriteControl.RstartBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchRstart,this),this.startBtnTap()},e.prototype.onTouchRstart=function(t){var e=this;egret.Tween.get(this.overplan).to({x:-windspirit.Util.stageW},200).call(function(){e.removeChild(e.overplan),e.startBtnTap()})},e.prototype.startBtnTap=function(){SpriteControl.RstartBtn.touchEnabled=SpriteControl.rankBtn.touchEnabled=!1,this.game.x=this.game.y=0,this.addChild(this.game),this.game.addEventListener("over",this.over,this),this.game.init()},e.prototype.over=function(){var t=this;SpriteControl.RstartBtn.touchEnabled=SpriteControl.rankBtn.touchEnabled=!0,this.addChild(this.overplan),this.overplan.SetScore(),this.overplan.x=-windspirit.Util.stageW,egret.Tween.get(this.overplan).to({x:0},200),egret.Tween.get(this.game).to({x:windspirit.Util.stageW},200).call(function(){t.game.removeEventListener("over",t.over,t),t.removeChild(t.game)})},e}(egret.DisplayObjectContainer);__reflect(UI.prototype,"UI");var utils=function(){function t(){}return t.createBitmapByName=function(t){var e=new egret.Bitmap;return t=RES.getRes(t),e.texture=t,e},t.createSpriteByName=function(t){var e=new egret.Bitmap;return t=RES.getRes(t),e.texture=t,t=new egret.Sprite,t.addChild(e),t},t.createSpriteSheet=function(t){return RES.getRes(t)},t.createSoundByName=function(t){return RES.getRes(t)},t.createRectangular=function(t,e,i,r,n,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=480),void 0===r&&(r=640),void 0===n&&(n=1),void 0===a&&(a=0);var o=new egret.Sprite;return o.graphics.beginFill(a,n),o.graphics.drawRect(t,e,i,r),o.graphics.endFill(),o.width=i,o.height=r,o},t.createCircle=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=10),void 0===r&&(r=1),void 0===n&&(n=16777215);var a=new egret.Sprite;return a.graphics.beginFill(n,r),a.graphics.drawCircle(t,e,i),a.graphics.endFill(),a},t.createTextLabel=function(t,e,i,r,n,a,o,s,l,c,h,d){return void 0===e&&(e=0),void 0===i&&(i="left"),void 0===r&&(r="none"),void 0===n&&(n=14),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===d&&(d=0),t=new egret.TextField,t.textColor=e,t.textAlign=i,t.text=r,t.size=n,0!=a&&(t.width=a),0!=o&&0!=s&&(t.strokeColor=o,t.stroke=s),t.rotation=h,0!=d&&(t.skewX=d),t.x=l,t.y=c,t},t.randomInt=function(t,e){if(0>=e-t)return 0;var i=e-t;return Math.floor(Math.random()*i)+t},t.createBitmap=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=new egret.Bitmap;return n.texture=t.getTexture(e),n.x=i,n.y=r,n},t.isWeiXin=function(){return!1},t.IsPC=function(){for(var t=navigator.userAgent.toString(),e="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"),i=!0,r=0;r<e.length;r++)if(0<t.indexOf(e[r])){i=!1;break}return console.log(i,t),i},t}();__reflect(utils.prototype,"utils");var View_Over=function(t){function e(){var e=t.call(this)||this;e.txt=new egret.BitmapText,e.shareview=new egret.Bitmap(RES.getRes("shareview")),e.ot=new egret.Bitmap(RES.getRes("v0"));var i=utils.createRectangular(0,0,windspirit.Util.stageW,windspirit.Util.stageH,0,0);i.touchEnabled=!0,e.addChild(i),e.addChild(SpriteControl.overPlan),e.addChild(SpriteControl.RstartBtn),SpriteControl.RstartBtn.x=(windspirit.Util.stageW-SpriteControl.RstartBtn.width)/2,SpriteControl.RstartBtn.y=550;var r=RES.getRes("gamefont");e.txt.font=r,e.txt.y=330,e.addChild(e.txt);var n=new egret.Bitmap(RES.getRes("ShareBtn"));e.addChild(n),n.x=(windspirit.Util.stageW-n.width)/2,n.y=628,n.touchEnabled=!0,e.addChild(e.ot),e.ot.x=(windspirit.Util.stageW-e.ot.width)/2,e.ot.y=440;var a=new egret.Bitmap(RES.getRes("download"));a.touchEnabled=!0,a.x=(windspirit.Util.stageW-a.width)/2,a.y=750,a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ontouch3,e),n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onshare,e),a=new egret.Bitmap,a.texture=RES.getRes("huowu2"),a.touchEnabled=!0,a.anchorOffsetX=a.width>>1,a.x=windspirit.Util.stageW/2,a.y=890,e.addChild(a),a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchBegan,e);var o=new egret.Bitmap(RES.getRes("txlogo"));return o.anchorOffsetX=o.width>>1,o.y=a.y,o.x=windspirit.Util.stageW/2,o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ontouch2,e),a=new egret.Bitmap(RES.getRes("guanzhu")),e.addChild(a),a.touchEnabled=!0,a.y=n.y,n.x=140,a.x=320,a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ontouch4,e),e.addChild(e.shareview),e.shareview.touchEnabled=!0,e.shareview.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onShareviewTouch,e),e.shareview.visible=!1,e}return __extends(e,t),e.prototype.ontouch3=function(t){},e.prototype.ontouch2=function(t){},e.prototype.ontouch4=function(t){},e.prototype.onTouchBegan=function(t){window.location.href="http://www.windspirit.cn"},e.prototype.onShareviewTouch=function(t){this.shareview.visible=!1},e.prototype.onshare=function(t){this.shareview.visible=!0},e.prototype.SetScore=function(){this.txt.text=windspirit.GameData.score+"",this.txt.x=(windspirit.Util.stageW-this.txt.width)/2,this.ot.texture=RES.getRes("v"+Math.floor(6*Math.random()).toString())},e.prototype.SetRank=function(t){},e.prototype.moregame=function(t){},e.prototype.showMoreGames=function(t){},e.prototype.hideMoreGames=function(){},e}(egret.Sprite);__reflect(View_Over.prototype,"View_Over");var View_Play=function(t){function e(){var e=t.call(this)||this;return e.viewCreate(),e}return __extends(e,t),e.prototype.viewCreate=function(){this.scorePlan=new ScorePlan,this.timePlan=new TimePlan,this.addChild(this.scorePlan),this.addChild(this.timePlan)},e.prototype.init=function(){this.scorePlan.scoreTxt.text="0",this.timePlan.init()},e.prototype.setTime=function(t){this.timeId=t,this.timePlan.timeElement[t].alpha=0},e.prototype.setScore=function(){this.scorePlan.scoreTxt.text=windspirit.GameData.score+""},e.prototype.timeAdd=function(t){var e=0,e=11<this.timeId+t?11:this.timeId+t;for(t=this.timeId;e>=t;t++)this.timePlan.timeElement[t].alpha=1;return e+1},e}(egret.Sprite);__reflect(View_Play.prototype,"View_Play");